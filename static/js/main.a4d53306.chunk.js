(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{26:function(e,t,n){},37:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(0),i=n(27),a=n.n(i),r=(n(37),n(7)),s=n(15),u=n(31),d=n(3),l=n.n(d),j=n(6),f=function(){return Object(c.jsx)("header",{children:Object(c.jsx)("h3",{children:"Tasks"})})},b=n(17),h=function(e){var t=e.handleAddTodo,n=e.inputValue,o=e.handleChange;return Object(c.jsxs)("div",{className:Object(b.a)("add-todo",{active:n.length>0}),children:[Object(c.jsx)("label",{className:"add-todo-icon icon",htmlFor:"add-todo-input"}),Object(c.jsx)("div",{className:"add-todo-input",onKeyPress:function(e){13===e.nativeEvent.keyCode&&t()},children:Object(c.jsx)("input",{id:"add-todo-input",type:"text",onChange:o,value:n,placeholder:"\u65b0\u589e\u5de5\u4f5c"})}),Object(c.jsx)("div",{className:"add-todo-action",children:Object(c.jsx)("button",{className:"btn-reset btn-add",onClick:t,children:" \u65b0\u589e "})})]})},p=function(e){var t=e.pk,n=e.deletTodoItem,i=e.handleIsDone,a=e.todo,s=e.triggerEditColumn,u=e.handleSave,d=Object(o.useState)(a.title),l=Object(r.a)(d,2),j=l[0],f=l[1],h=function(){a.isEdit&&s(a,!1)};return Object(c.jsxs)("div",{className:Object(b.a)("task-item",{done:a.isDone,edit:a.isEdit}),children:[Object(c.jsx)("div",{className:"task-item-checked",children:Object(c.jsx)("span",{className:"icon icon-checked",onDoubleClick:function(){return i({id:a.id,title:a.title,isDone:!a.isDone},h)},children:Object(c.jsx)("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(c.jsx)("path",{fill:"#ff6600",fillRule:"evenodd",d:"M12 20c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8m0-17c-4.963 0-9 4.037-9 9s4.037 9 9 9 9-4.037 9-9-4.037-9-9-9"})})})}),Object(c.jsxs)("div",{className:"task-item-body",children:[Object(c.jsx)("span",{className:"task-item-body-text",onDoubleClick:function(){s(a.id,!0)},children:j}),Object(c.jsx)("input",{className:"task-item-body-input",type:"text",placeholder:"\u65b0\u589e\u5de5\u4f5c",value:j,onChange:function(e){f(e.target.value)},onDoubleClick:function(){return s(a.id,!1)},onKeyDown:function(e){return function(e){13===e.keyCode&&0!==j.length?u({id:a.id,title:j,isDone:a.isDone}):27===e.keyCode&&(s(a.id,!1),f(a.title))}(e)}})]}),Object(c.jsx)("div",{className:"task-item-action",children:Object(c.jsx)("button",{className:"btn-reset btn-destroy icon",onClick:function(){return n(t)},children:" "})})]})},x=function(e){var t=e.todos,n=e.deletTodoItem,o=e.handleIsDone,i=e.triggerEditColumn,a=e.handleSave;return Object(c.jsx)("div",{className:"todos",children:t.map((function(e){return Object(c.jsx)(p,{pk:e.id,deletTodoItem:n,handleSave:a,handleIsDone:o,todo:e,triggerEditColumn:i},e.id)}))})},O=n(8),m=n(9);function v(){var e=Object(O.a)(["\n    font-size:14px;\n    font-weight:400;\n    margin:2rem 0 1rem 0;\n    &:hover{\n        text-decoration:underline;\n    }\n"]);return v=function(){return e},e}function g(){var e=Object(O.a)(["\n    display:flex;\n    justify-content:space-between;\n"]);return g=function(){return e},e}var w=m.a.div(g()),k=m.a.button(v()),y=function(e){var t=e.things,n=e.handleFBLogout;return Object(c.jsx)("footer",{children:Object(c.jsxs)(w,{children:[Object(c.jsxs)("p",{children:["\u5269\u9918\u9805\u76ee: ",t]}),Object(c.jsx)(k,{className:"btn-reset",onClick:n,children:"\u767b\u51fa"})]})})},C=(n(41),"https://gist.githubusercontent.com/May27Oliver/65cbf1224fc415817434715772da2443/raw/b1fc0afb1934594615f5d22fa2720ec5528f322d/todo.json"),D=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,c=t.isDone,e.next=3,fetch("".concat(C,"/info "),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n,isDone:c})});case 3:return o=e.sent,e.next=6,o.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C,"/info/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,c,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,c=t.title,o=t.isDone,e.next=3,fetch("".concat(C,"/info/").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c,isDone:o})});case 3:return i=e.sent,e.next=6,i.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=(n(26),[]),F=function(e){var t=e.handleFBLogout,n=Object(o.useState)(E),i=Object(r.a)(n,2),a=i[0],d=i[1],b=Object(o.useState)(""),p=Object(r.a)(b,2),O=p[0],m=p[1];Object(o.useEffect)((function(){v()}),[]);var v=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C,"/info"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:E=e.sent,d(E);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===O.length){e.next=11;break}return e.prev=1,e.next=4,D({title:O,isDone:!1});case 4:t=e.sent,d((function(e){return[t].concat(Object(u.a)(e))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:m("");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t),v();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id,c=t.title,o=t.isDone,T({id:n,title:c,isDone:o}),v();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f,{}),Object(c.jsx)(h,{handleAddTodo:g,inputValue:O,handleChange:function(e){m(e.target.value)}}),Object(c.jsx)(x,{todos:a,deletTodoItem:w,handleIsDone:function(e,t){e.id,e.title,e.isDone;t&&t(),k(e),v()},handleSave:k,triggerEditColumn:function(e,t){d((function(n){return n.map((function(n){return n.id!==e?n:n.id===e&&n.isDone?Object(s.a)(Object(s.a)({},n),{},{isEdit:t,isDone:!1}):n.id===e?Object(s.a)(Object(s.a)({},n),{},{isEdit:t}):void 0}))}))}}),Object(c.jsx)(y,{things:a.length,handleFBLogout:t})]})},B=n(2),S=n(12);function I(){var e=Object(O.a)(["\n    background:#1877f2;\n    color:white;\n    min-width:200px;\n    font-size:14px;\n    font-weight:bold;\n    outline:none;\n    border:none;\n    font-family:'Noto Sans TC',sans-serif;\n    padding:6px 0;\n    margin:2rem 0 1rem;\n    &:hover{\n        background:#385898;\n    }\n"]);return I=function(){return e},e}function L(){var e=Object(O.a)(["\n    text-align:center;\n    font-family:'Noto Sans TC',sans-serif;\n    margin: 2rem 0;\n"]);return L=function(){return e},e}function P(){var e=Object(O.a)(["\n    display:flex;\n    flex-wrap:wrap;\n    flex-direction:column;\n    justify-content:center;\n    align-items:center;\n"]);return P=function(){return e},e}var A=m.a.div(P()),J=m.a.h1(L()),V=m.a.button(I()),z=function(e){e.handleSetPage,e.goTodos;var t=e.handleFBLogin,n=e.status;return console.log("status",n),"connected"===n?Object(c.jsx)(B.a,{to:"/todos"}):Object(c.jsxs)(A,{children:[Object(c.jsx)(J,{children:"\u767b\u5165 Todo"}),Object(c.jsx)(S.b,{to:"/todos",children:Object(c.jsx)(V,{onClick:t,children:"Facebook \u767b\u5165"})})]})},K=function(){return Object(c.jsx)("h1",{children:"Not Found"})},M=function(){var e=Object(o.useState)({}),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(B.g)("/login");Object(o.useEffect)((function(){window.fbAsyncInit=function(){window.FB.init({appId:"1750021145156763",cookie:!0,xfbml:!0,version:"v9.0"}),window.FB.getLoginStatus((function(e){i(e)})),window.FB.AppEvents.logPageView()},function(e,t,n){var c,o=e.getElementsByTagName(t)[0];e.getElementById(n)||((c=e.createElement(t)).id=n,c.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(c,o))}(document,"script","facebook-jssdk")}),[]);return"connected"===n.status||a?Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)(B.d,{children:[Object(c.jsx)(B.b,{path:"/",exact:!0,children:"connected"!==n.status?Object(c.jsx)(B.a,{to:"/todos"}):Object(c.jsx)(B.a,{to:"/login"})}),Object(c.jsx)(B.b,{path:"/todos",children:Object(c.jsx)(F,{handleFBLogout:function(){window.FB.logout((function(e){i(e)}))}})}),Object(c.jsx)(B.b,{path:"/login",children:Object(c.jsx)(z,{handleFBLogin:function(){window.FB.login((function(e){i(e)}),{scope:"public_profile,email"})},status:n.status})}),Object(c.jsx)(B.b,{path:"*",component:K})]})}):Object(c.jsx)(B.a,{to:"/login"})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};a.a.render(Object(c.jsx)(S.a,{children:Object(c.jsx)(M,{})}),document.getElementById("root")),_()}},[[48,1,2]]]);
//# sourceMappingURL=main.a4d53306.chunk.js.map