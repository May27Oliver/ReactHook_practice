(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(t,e,n){},39:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n(0),i=n(29),a=n.n(i),r=(n(39),n(9)),s=n(17),u=n(33),d=n(4),l=n.n(d),j=n(8),f=function(){return Object(c.jsx)("header",{children:Object(c.jsx)("h3",{children:"Tasks"})})},b=n(19),h=function(t){var e=t.handleAddTodo,n=t.inputValue,o=t.handleChange;return Object(c.jsxs)("div",{className:Object(b.a)("add-todo",{active:n.length>0}),children:[Object(c.jsx)("label",{className:"add-todo-icon icon",htmlFor:"add-todo-input"}),Object(c.jsx)("div",{className:"add-todo-input",onKeyPress:function(t){13===t.nativeEvent.keyCode&&e()},children:Object(c.jsx)("input",{id:"add-todo-input",type:"text",onChange:o,value:n,placeholder:"\u65b0\u589e\u5de5\u4f5c"})}),Object(c.jsx)("div",{className:"add-todo-action",children:Object(c.jsx)("button",{className:"btn-reset btn-add",onClick:e,children:" \u65b0\u589e "})})]})},p=function(t){var e=t.pk,n=t.deletTodoItem,i=t.handleIsDone,a=t.todo,s=t.triggerEditColumn,u=t.handleSave,d=Object(o.useState)(a.title),l=Object(r.a)(d,2),j=l[0],f=l[1],h=function(){a.isEdit&&s(a,!1)};return Object(c.jsxs)("div",{className:Object(b.a)("task-item",{done:a.isDone,edit:a.isEdit}),children:[Object(c.jsx)("div",{className:"task-item-checked",children:Object(c.jsx)("span",{className:"icon icon-checked",onDoubleClick:function(){return i({id:a.id,title:a.title,isDone:!a.isDone},h)},children:Object(c.jsx)("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(c.jsx)("path",{fill:"#ff6600",fillRule:"evenodd",d:"M12 20c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8m0-17c-4.963 0-9 4.037-9 9s4.037 9 9 9 9-4.037 9-9-4.037-9-9-9"})})})}),Object(c.jsxs)("div",{className:"task-item-body",children:[Object(c.jsx)("span",{className:"task-item-body-text",onDoubleClick:function(){s(a.id,!0)},children:j}),Object(c.jsx)("input",{className:"task-item-body-input",type:"text",placeholder:"\u65b0\u589e\u5de5\u4f5c",value:j,onChange:function(t){f(t.target.value)},onDoubleClick:function(){return s(a.id,!1)},onKeyDown:function(t){return function(t){13===t.keyCode&&0!==j.length?u({id:a.id,title:j,isDone:a.isDone}):27===t.keyCode&&(s(a.id,!1),f(a.title))}(t)}})]}),Object(c.jsx)("div",{className:"task-item-action",children:Object(c.jsx)("button",{className:"btn-reset btn-destroy icon",onClick:function(){return n(e)},children:" "})})]})},x=function(t){var e=t.todos,n=t.deletTodoItem,o=t.handleIsDone,i=t.triggerEditColumn,a=t.handleSave;return Object(c.jsx)("div",{className:"todos",children:e.map((function(t){return Object(c.jsx)(p,{pk:t.id,deletTodoItem:n,handleSave:a,handleIsDone:o,todo:t,triggerEditColumn:i},t.id)}))})},O=n(10),m=n(11);function v(){var t=Object(O.a)(["\n    font-size:14px;\n    font-weight:400;\n    margin:2rem 0 1rem 0;\n    &:hover{\n        text-decoration:underline;\n    }\n"]);return v=function(){return t},t}function g(){var t=Object(O.a)(["\n    display:flex;\n    justify-content:space-between;\n"]);return g=function(){return t},t}var w=m.a.div(g()),k=m.a.button(v()),y=function(t){var e=t.things,n=t.handleFBLogout;return Object(c.jsx)("footer",{children:Object(c.jsxs)(w,{children:[Object(c.jsxs)("p",{children:["\u5269\u9918\u9805\u76ee: ",e]}),Object(c.jsx)(k,{className:"btn-reset",onClick:n,children:"\u767b\u51fa"})]})})},C=(n(45),"http://localhost:3001"),D=function(){var t=Object(j.a)(l.a.mark((function t(e){var n,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,c=e.isDone,t.next=3,fetch("".concat(C,"/info "),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n,isDone:c})});case 3:return o=t.sent,t.next=6,o.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(j.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(C,"/info/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(j.a)(l.a.mark((function t(e){var n,c,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,c=e.title,o=e.isDone,t.next=3,fetch("".concat(C,"/info/").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c,isDone:o})});case 3:return i=t.sent,t.next=6,i.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=(n(28),[]),F=function(t){var e=t.handleFBLogout,n=Object(o.useState)(E),i=Object(r.a)(n,2),a=i[0],d=i[1],b=Object(o.useState)(""),p=Object(r.a)(b,2),O=p[0],m=p[1];Object(o.useEffect)((function(){v()}),[]);var v=function(){var t=Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(C,"/info")).then((function(t){return t.json()}));case 2:E=t.sent,d(E);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(j.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===O.length){t.next=11;break}return t.prev=1,t.next=4,D({title:O,isDone:!1});case 4:e=t.sent,d((function(t){return[e].concat(Object(u.a)(t))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:m("");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N(e),v();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(j.a)(l.a.mark((function t(e){var n,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.id,c=e.title,o=e.isDone,T({id:n,title:c,isDone:o}),v();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f,{}),Object(c.jsx)(h,{handleAddTodo:g,inputValue:O,handleChange:function(t){m(t.target.value)}}),Object(c.jsx)(x,{todos:a,deletTodoItem:w,handleIsDone:function(t,e){t.id,t.title,t.isDone;e&&e(),k(t),v()},handleSave:k,triggerEditColumn:function(t,e){d((function(n){return n.map((function(n){return n.id!==t?n:n.id===t&&n.isDone?Object(s.a)(Object(s.a)({},n),{},{isEdit:e,isDone:!1}):n.id===t?Object(s.a)(Object(s.a)({},n),{},{isEdit:e}):void 0}))}))}}),Object(c.jsx)(y,{things:a.length,handleFBLogout:e})]})},B=n(2),S=n(14);function I(){var t=Object(O.a)(["\n    background:#1877f2;\n    color:white;\n    min-width:200px;\n    font-size:14px;\n    font-weight:bold;\n    outline:none;\n    border:none;\n    font-family:'Noto Sans TC',sans-serif;\n    padding:6px 0;\n    margin:2rem 0 1rem;\n    &:hover{\n        background:#385898;\n    }\n"]);return I=function(){return t},t}function L(){var t=Object(O.a)(["\n    text-align:center;\n    font-family:'Noto Sans TC',sans-serif;\n    margin: 2rem 0;\n"]);return L=function(){return t},t}function P(){var t=Object(O.a)(["\n    display:flex;\n    flex-wrap:wrap;\n    flex-direction:column;\n    justify-content:center;\n    align-items:center;\n"]);return P=function(){return t},t}var A=m.a.div(P()),J=m.a.h1(L()),V=m.a.button(I()),z=function(t){t.handleSetPage,t.goTodos;var e=t.handleFBLogin,n=t.status;return console.log("status",n),"connected"===n?Object(c.jsx)(B.a,{to:"/todos"}):Object(c.jsxs)(A,{children:[Object(c.jsx)(J,{children:"\u767b\u5165 Todo"}),Object(c.jsx)(S.b,{to:"/todos",children:Object(c.jsx)(V,{onClick:e,children:"Facebook \u767b\u5165"})})]})},K=function(){return Object(c.jsx)("h1",{children:"Not Found"})},_=function(){var t=Object(o.useState)({}),e=Object(r.a)(t,2),n=e[0],i=e[1],a=Object(B.g)("/login");Object(o.useEffect)((function(){window.fbAsyncInit=function(){window.FB.init({appId:"1750021145156763",cookie:!0,xfbml:!0,version:"v9.0"}),window.FB.getLoginStatus((function(t){i(t)})),window.FB.AppEvents.logPageView()},function(t,e,n){var c,o=t.getElementsByTagName(e)[0];t.getElementById(n)||((c=t.createElement(e)).id=n,c.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(c,o))}(document,"script","facebook-jssdk")}),[]);return"connected"===n.status||a?Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)(B.d,{children:[Object(c.jsx)(B.b,{path:"/",exact:!0,children:"connected"!==n.status?Object(c.jsx)(B.a,{to:"/todos"}):Object(c.jsx)(B.a,{to:"/login"})}),Object(c.jsx)(B.b,{path:"/todos",children:Object(c.jsx)(F,{handleFBLogout:function(){window.FB.logout((function(t){i(t)}))}})}),Object(c.jsx)(B.b,{path:"/login",children:Object(c.jsx)(z,{handleFBLogin:function(){window.FB.login((function(t){i(t)}),{scope:"public_profile,email"})},status:n.status})}),Object(c.jsx)(B.b,{path:"*",component:K})]})}):Object(c.jsx)(B.a,{to:"/login"})},H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),c(t),o(t),i(t),a(t)}))};a.a.render(Object(c.jsx)(S.a,{children:Object(c.jsx)(_,{})}),document.getElementById("root")),H()}},[[54,1,2]]]);
//# sourceMappingURL=main.a8459b47.chunk.js.map